# 1. Configuraci贸n del entorno
[variables]
    NIXPACKS_BUN_VERSION = 'latest'

# 2. Instalaci贸n de dependencias con Bun
[phases.install]
    dependsOn = ['setup']
    cmds = ['bun install']

# 3. Compilaci贸n de la app de Vue
[phases.build]
    dependsOn = ['install']
    cmds = ['bun run build']

# 4. Configuraci贸n de Nginx para Vue Router (Single Page Application)
[start]
    cmd = '''
    echo "server {
        listen $PORT;
        root /app/dist;
        index index.html;
        location / {
            try_files \$uri \$uri/ /index.html;
        }
    }" > /etc/nginx/conf.d/default.conf && nginx -g "daemon off;"
    '''
